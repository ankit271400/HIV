<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HIV Risk Assessment</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="thermal-analysis.js"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              'medical-blue': '#2563eb',
              'medical-green': '#059669',
              'medical-red': '#dc2626',
              'medical-yellow': '#d97706',
              'neon-blue': '#00d4ff',
              'neon-purple': '#8b5cf6',
              'dark-glass': 'rgba(0, 0, 0, 0.1)'
            },
            animation: {
              'float': 'float 6s ease-in-out infinite',
              'pulse-slow': 'pulse 3s ease-in-out infinite',
              'slide-up': 'slideUp 0.8s ease-out',
              'slide-in': 'slideIn 0.6s ease-out',
              'glow': 'glow 2s ease-in-out infinite alternate',
              'shimmer': 'shimmer 2.5s linear infinite',
              'bounce-slow': 'bounce 2s infinite'
            },
            backgroundImage: {
              'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))',
              'gradient-conic': 'conic-gradient(from 180deg at 50% 50%, var(--tw-gradient-stops))',
              'medical-gradient': 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
              'glass-gradient': 'linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)'
            },
            backdropBlur: {
              'xs': '2px',
            },
            boxShadow: {
              'glow': '0 0 20px rgba(37, 99, 235, 0.3)',
              'glow-lg': '0 0 40px rgba(37, 99, 235, 0.4)',
              'medical': '0 10px 40px rgba(0, 0, 0, 0.15)',
              'glass': '0 8px 32px rgba(31, 38, 135, 0.37)'
            }
          }
        }
      }
    </script>
    <style>
      @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-20px); }
      }
      @keyframes slideUp {
        from { transform: translateY(50px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
      }
      @keyframes slideIn {
        from { transform: translateX(-50px); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
      }
      @keyframes glow {
        from { box-shadow: 0 0 20px rgba(37, 99, 235, 0.3); }
        to { box-shadow: 0 0 40px rgba(37, 99, 235, 0.6); }
      }
      @keyframes shimmer {
        0% { background-position: -200% 0; }
        100% { background-position: 200% 0; }
      }
      .glass-morphism {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }
      .medical-gradient {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      }
      .shimmer-effect {
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
        background-size: 200% 100%;
        animation: shimmer 2.5s linear infinite;
      }
      .floating-particles {
        position: absolute;
        width: 100%;
        height: 100%;
        overflow: hidden;
        pointer-events: none;
      }
      .particle {
        position: absolute;
        background: rgba(37, 99, 235, 0.1);
        border-radius: 50%;
        animation: float 8s ease-in-out infinite;
      }
      .dynamic-bg {
        background: linear-gradient(-45deg, #667eea, #764ba2, #667eea, #f093fb);
        background-size: 400% 400%;
        animation: gradientShift 15s ease infinite;
      }
      @keyframes gradientShift {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }
      .interactive-bg::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(37, 99, 235, 0.1) 0%, transparent 50%);
        pointer-events: none;
        z-index: -1;
      }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-purple-50 interactive-bg">
    <!-- Header with advanced graphics -->
    <header class="relative medical-gradient text-white shadow-medical overflow-hidden">
        <div class="floating-particles">
            <div class="particle" style="left: 10%; top: 20%; width: 8px; height: 8px; animation-delay: 0s;"></div>
            <div class="particle" style="left: 80%; top: 60%; width: 12px; height: 12px; animation-delay: 2s;"></div>
            <div class="particle" style="left: 60%; top: 10%; width: 6px; height: 6px; animation-delay: 4s;"></div>
            <div class="particle" style="left: 30%; top: 70%; width: 10px; height: 10px; animation-delay: 1s;"></div>
            <div class="particle" style="left: 90%; top: 30%; width: 8px; height: 8px; animation-delay: 3s;"></div>
        </div>
        <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-8">
                <div class="flex items-center animate-slide-in">
                    <div class="w-12 h-12 glass-morphism rounded-full flex items-center justify-center mr-4 shadow-glow animate-pulse-slow">
                        <span class="text-white font-bold text-xl">‚öï</span>
                    </div>
                    <div>
                        <h1 class="text-3xl font-bold bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent">
                            HIV Risk Assessment
                        </h1>
                        <p class="text-blue-200 text-sm mt-1">Advanced Medical Analysis System</p>
                    </div>
                </div>
                <div class="hidden md:block animate-slide-in" style="animation-delay: 0.3s;">
                    <div class="glass-morphism px-6 py-3 rounded-lg">
                        <p class="text-blue-100 font-medium">üîí Secure ‚Ä¢ üõ°Ô∏è Private ‚Ä¢ ‚ö° Professional</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-400 via-purple-500 to-blue-600"></div>
    </header>

    <!-- Main Content with Advanced Graphics -->
    <main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Welcome Section -->
        <div class="relative glass-morphism rounded-2xl shadow-glass p-8 mb-8 animate-slide-up overflow-hidden">
            <div class="absolute inset-0 bg-gradient-to-br from-blue-50/50 to-purple-50/50 rounded-2xl"></div>
            <div class="relative z-10">
                <div class="text-center mb-6">
                    <div class="inline-block animate-float mb-4">
                        <div class="w-20 h-20 mx-auto bg-gradient-to-br from-medical-blue to-purple-600 rounded-full flex items-center justify-center shadow-glow-lg animate-pulse-slow">
                            <span class="text-white text-3xl">‚öï</span>
                        </div>
                    </div>
                    <h2 class="text-4xl font-bold bg-gradient-to-r from-medical-blue via-purple-600 to-medical-blue bg-clip-text text-transparent mb-4 animate-slide-in">
                        HIV Early Risk Assessment
                    </h2>
                    <p class="text-lg text-gray-700 max-w-2xl mx-auto animate-slide-in" style="animation-delay: 0.2s;">
                        A secure, confidential tool powered by advanced medical algorithms to assess your HIV exposure risk and provide personalized guidance.
                    </p>
                </div>
                
                <!-- Enhanced Features Grid -->
                <div class="grid md:grid-cols-3 gap-6 mt-8">
                    <div class="group relative text-center p-6 glass-morphism rounded-xl hover:shadow-glow transition-all duration-500 animate-slide-up" style="animation-delay: 0.1s;">
                        <div class="absolute inset-0 bg-gradient-to-br from-blue-500/10 to-blue-600/20 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                        <div class="relative z-10">
                            <div class="w-16 h-16 bg-gradient-to-br from-medical-blue to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-glow transform group-hover:scale-110 transition-transform duration-300">
                                <div class="w-8 h-8 text-white animate-pulse-slow">üõ°Ô∏è</div>
                            </div>
                            <h3 class="text-lg font-semibold text-gray-900 mb-2 group-hover:text-medical-blue transition-colors">Secure & Private</h3>
                            <p class="text-gray-600">Military-grade encryption with zero data collection policy</p>
                        </div>
                    </div>
                    
                    <div class="group relative text-center p-6 glass-morphism rounded-xl hover:shadow-glow transition-all duration-500 animate-slide-up" style="animation-delay: 0.2s;">
                        <div class="absolute inset-0 bg-gradient-to-br from-green-500/10 to-green-600/20 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                        <div class="relative z-10">
                            <div class="w-16 h-16 bg-gradient-to-br from-medical-green to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-glow transform group-hover:scale-110 transition-transform duration-300">
                                <div class="w-8 h-8 text-white animate-bounce-slow">‚ö°</div>
                            </div>
                            <h3 class="text-lg font-semibold text-gray-900 mb-2 group-hover:text-medical-green transition-colors">Lightning Fast</h3>
                            <p class="text-gray-600">AI-powered analysis delivers results in under 60 seconds</p>
                        </div>
                    </div>
                    
                    <div class="group relative text-center p-6 glass-morphism rounded-xl hover:shadow-glow transition-all duration-500 animate-slide-up" style="animation-delay: 0.3s;">
                        <div class="absolute inset-0 bg-gradient-to-br from-purple-500/10 to-purple-600/20 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                        <div class="relative z-10">
                            <div class="w-16 h-16 bg-gradient-to-br from-purple-600 to-purple-700 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-glow transform group-hover:scale-110 transition-transform duration-300">
                                <div class="w-8 h-8 text-white animate-pulse-slow">üè•</div>
                            </div>
                            <h3 class="text-lg font-semibold text-gray-900 mb-2 group-hover:text-purple-600 transition-colors">Expert Guidance</h3>
                            <p class="text-gray-600">Clinical-grade recommendations backed by medical research</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Decorative Elements -->
            <div class="absolute top-4 right-4 w-32 h-32 bg-gradient-to-br from-blue-200/20 to-purple-200/20 rounded-full blur-2xl"></div>
            <div class="absolute bottom-4 left-4 w-24 h-24 bg-gradient-to-br from-green-200/20 to-blue-200/20 rounded-full blur-2xl"></div>
        </div>

        <!-- Enhanced Assessment Form -->
        <div class="relative glass-morphism rounded-2xl shadow-glass p-8 animate-slide-up overflow-hidden" style="animation-delay: 0.4s;">
            <div class="absolute inset-0 bg-gradient-to-br from-white/60 to-blue-50/40 rounded-2xl"></div>
            <div class="relative z-10">
                <div class="flex items-center mb-6">
                    <div class="w-10 h-10 bg-gradient-to-br from-medical-blue to-purple-600 rounded-lg flex items-center justify-center mr-4 animate-glow">
                        <span class="text-white font-bold">üìã</span>
                    </div>
                    <h3 class="text-3xl font-bold bg-gradient-to-r from-medical-blue to-purple-600 bg-clip-text text-transparent">
                        Advanced Risk Assessment
                    </h3>
                </div>
                
                <form id="assessmentForm" class="space-y-8">
                <!-- Age with Enhanced Graphics -->
                <div class="group">
                    <label class="flex items-center text-sm font-semibold text-gray-700 mb-3">
                        <div class="w-6 h-6 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center mr-2 group-hover:scale-110 transition-transform">
                            <span class="text-white text-xs">üë§</span>
                        </div>
                        Age Range
                    </label>
                    <div class="relative">
                        <select name="age" class="w-full p-4 glass-morphism border-2 border-transparent rounded-xl focus:border-medical-blue focus:shadow-glow transition-all duration-300 appearance-none bg-white/80 hover:bg-white/90">
                            <option value="">Select your age range</option>
                            <option value="18-25">18-25 years</option>
                            <option value="26-35">26-35 years</option>
                            <option value="36-45">36-45 years</option>
                            <option value="46-55">46-55 years</option>
                            <option value="55+">55+ years</option>
                        </select>
                        <div class="absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none">
                            <div class="w-6 h-6 bg-gradient-to-br from-medical-blue to-purple-600 rounded-lg flex items-center justify-center">
                                <span class="text-white text-xs">‚ñº</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Exposure Type -->
                <div class="group">
                    <label class="flex items-center text-sm font-semibold text-gray-700 mb-4">
                        <div class="w-6 h-6 bg-gradient-to-br from-red-500 to-orange-600 rounded-lg flex items-center justify-center mr-2 group-hover:scale-110 transition-transform">
                            <span class="text-white text-xs">‚ö†Ô∏è</span>
                        </div>
                        Type of Potential Exposure
                    </label>
                    <div class="grid md:grid-cols-2 gap-4">
                        <label class="group/radio relative p-4 glass-morphism rounded-xl cursor-pointer hover:shadow-glow transition-all duration-300 hover:scale-105">
                            <input type="radio" name="exposure" value="unprotected_sex" class="sr-only peer">
                            <div class="flex items-center">
                                <div class="w-6 h-6 border-2 border-gray-300 rounded-full peer-checked:border-medical-blue peer-checked:bg-medical-blue transition-all duration-200 flex items-center justify-center">
                                    <div class="w-2 h-2 bg-white rounded-full opacity-0 peer-checked:opacity-100 transition-opacity"></div>
                                </div>
                                <div class="ml-3">
                                    <div class="font-medium text-gray-900">Sexual Contact</div>
                                    <div class="text-sm text-gray-600">Unprotected sexual activity</div>
                                </div>
                            </div>
                            <div class="absolute inset-0 bg-gradient-to-br from-blue-500/10 to-purple-500/10 rounded-xl opacity-0 peer-checked:opacity-100 transition-opacity"></div>
                        </label>
                        
                        <label class="group/radio relative p-4 glass-morphism rounded-xl cursor-pointer hover:shadow-glow transition-all duration-300 hover:scale-105">
                            <input type="radio" name="exposure" value="needle_sharing" class="sr-only peer">
                            <div class="flex items-center">
                                <div class="w-6 h-6 border-2 border-gray-300 rounded-full peer-checked:border-medical-red peer-checked:bg-medical-red transition-all duration-200 flex items-center justify-center">
                                    <div class="w-2 h-2 bg-white rounded-full opacity-0 peer-checked:opacity-100 transition-opacity"></div>
                                </div>
                                <div class="ml-3">
                                    <div class="font-medium text-gray-900">Needle Sharing</div>
                                    <div class="text-sm text-gray-600">Shared injection equipment</div>
                                </div>
                            </div>
                            <div class="absolute inset-0 bg-gradient-to-br from-red-500/10 to-orange-500/10 rounded-xl opacity-0 peer-checked:opacity-100 transition-opacity"></div>
                        </label>
                        
                        <label class="group/radio relative p-4 glass-morphism rounded-xl cursor-pointer hover:shadow-glow transition-all duration-300 hover:scale-105">
                            <input type="radio" name="exposure" value="blood_contact" class="sr-only peer">
                            <div class="flex items-center">
                                <div class="w-6 h-6 border-2 border-gray-300 rounded-full peer-checked:border-medical-yellow peer-checked:bg-medical-yellow transition-all duration-200 flex items-center justify-center">
                                    <div class="w-2 h-2 bg-white rounded-full opacity-0 peer-checked:opacity-100 transition-opacity"></div>
                                </div>
                                <div class="ml-3">
                                    <div class="font-medium text-gray-900">Blood Contact</div>
                                    <div class="text-sm text-gray-600">Exposure to infected blood</div>
                                </div>
                            </div>
                            <div class="absolute inset-0 bg-gradient-to-br from-yellow-500/10 to-orange-500/10 rounded-xl opacity-0 peer-checked:opacity-100 transition-opacity"></div>
                        </label>
                        
                        <label class="group/radio relative p-4 glass-morphism rounded-xl cursor-pointer hover:shadow-glow transition-all duration-300 hover:scale-105">
                            <input type="radio" name="exposure" value="other" class="sr-only peer">
                            <div class="flex items-center">
                                <div class="w-6 h-6 border-2 border-gray-300 rounded-full peer-checked:border-purple-600 peer-checked:bg-purple-600 transition-all duration-200 flex items-center justify-center">
                                    <div class="w-2 h-2 bg-white rounded-full opacity-0 peer-checked:opacity-100 transition-opacity"></div>
                                </div>
                                <div class="ml-3">
                                    <div class="font-medium text-gray-900">Other</div>
                                    <div class="text-sm text-gray-600">Different type of exposure</div>
                                </div>
                            </div>
                            <div class="absolute inset-0 bg-gradient-to-br from-purple-500/10 to-indigo-500/10 rounded-xl opacity-0 peer-checked:opacity-100 transition-opacity"></div>
                        </label>
                    </div>
                </div>

                <!-- Timeframe -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">When did the exposure occur?</label>
                    <select name="timeframe" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-medical-blue focus:border-transparent">
                        <option value="">Select timeframe</option>
                        <option value="0-72h">Within 72 hours (3 days)</option>
                        <option value="3-30d">3-30 days ago</option>
                        <option value="1-3m">1-3 months ago</option>
                        <option value="3-6m">3-6 months ago</option>
                        <option value="6m+">More than 6 months ago</option>
                    </select>
                </div>

                <!-- Symptoms -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Any current symptoms? (Check all that apply)</label>
                    <div class="grid md:grid-cols-2 gap-2">
                        <label class="flex items-center">
                            <input type="checkbox" name="symptoms" value="fever" class="text-medical-blue focus:ring-medical-blue">
                            <span class="ml-2">Fever</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="symptoms" value="fatigue" class="text-medical-blue focus:ring-medical-blue">
                            <span class="ml-2">Unusual fatigue</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="symptoms" value="rash" class="text-medical-blue focus:ring-medical-blue">
                            <span class="ml-2">Skin rash</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="symptoms" value="swollen_lymph" class="text-medical-blue focus:ring-medical-blue">
                            <span class="ml-2">Swollen lymph nodes</span>
                        </label>
                    </div>
                </div>

                <!-- Thermal Camera Analysis Section -->
                <div class="group">
                    <label class="flex items-center text-sm font-semibold text-gray-700 mb-4">
                        <div class="w-6 h-6 bg-gradient-to-br from-red-500 to-pink-600 rounded-lg flex items-center justify-center mr-2 group-hover:scale-110 transition-transform">
                            <span class="text-white text-xs">üå°Ô∏è</span>
                        </div>
                        Thermal Analysis (Optional)
                    </label>
                    
                    <div class="glass-morphism rounded-xl p-6 space-y-4">
                        <p class="text-sm text-gray-600 mb-4">
                            üì± Use thermal camera to detect elevated body temperature as part of your health assessment.
                        </p>
                        
                        <!-- Thermal Camera Controls -->
                        <div class="flex gap-4 mb-4">
                            <button type="button" id="startThermalBtn" class="bg-gradient-to-r from-blue-500 to-indigo-600 text-white px-6 py-2 rounded-lg font-semibold hover:shadow-glow transition-all duration-300 transform hover:scale-105">
                                üé• Start Thermal Scan
                            </button>
                            <button type="button" id="stopThermalBtn" class="bg-gradient-to-r from-red-500 to-pink-600 text-white px-6 py-2 rounded-lg font-semibold hover:shadow-glow transition-all duration-300 transform hover:scale-105 hidden">
                                üõë Stop Scan
                            </button>
                            <button type="button" id="calibrateBtn" class="bg-gradient-to-r from-yellow-500 to-orange-600 text-white px-6 py-2 rounded-lg font-semibold hover:shadow-glow transition-all duration-300 transform hover:scale-105 hidden">
                                ‚öôÔ∏è Calibrate
                            </button>
                        </div>
                        
                        <!-- Thermal Camera Display -->
                        <div id="thermalContainer" class="relative bg-gray-900 rounded-xl overflow-hidden min-h-[300px] hidden">
                            <div class="absolute inset-0 flex items-center justify-center text-white">
                                <div class="text-center">
                                    <div class="w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse">
                                        <span class="text-2xl">üìπ</span>
                                    </div>
                                    <p>Initializing thermal camera...</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Temperature Readings -->
                        <div id="temperatureReadings" class="hidden">
                            <div class="grid md:grid-cols-3 gap-4">
                                <div class="glass-morphism p-4 rounded-lg text-center">
                                    <div class="text-2xl font-bold text-blue-600" id="currentTemp">--¬∞C</div>
                                    <div class="text-sm text-gray-600">Current Reading</div>
                                </div>
                                <div class="glass-morphism p-4 rounded-lg text-center">
                                    <div class="text-2xl font-bold text-green-600" id="maxTemp">--¬∞C</div>
                                    <div class="text-sm text-gray-600">Maximum Detected</div>
                                </div>
                                <div class="glass-morphism p-4 rounded-lg text-center">
                                    <div class="text-2xl font-bold" id="feverStatus">Normal</div>
                                    <div class="text-sm text-gray-600">Fever Status</div>
                                </div>
                            </div>
                            
                            <!-- Temperature Analysis Results -->
                            <div id="thermalResults" class="mt-4 p-4 glass-morphism rounded-lg hidden">
                                <div class="flex items-center mb-2">
                                    <div class="w-8 h-8 bg-gradient-to-br from-red-500 to-pink-600 rounded-lg flex items-center justify-center mr-3">
                                        <span class="text-white text-sm">üå°Ô∏è</span>
                                    </div>
                                    <h4 class="font-semibold">Thermal Assessment</h4>
                                </div>
                                <div id="thermalRecommendation" class="text-sm text-gray-700"></div>
                            </div>
                        </div>
                        
                        <!-- Manual Temperature Entry (Fallback) -->
                        <div class="border-t border-gray-200 pt-4">
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Manual Temperature Entry (if thermal camera unavailable)
                            </label>
                            <div class="flex items-center space-x-4">
                                <input type="number" name="manualTemp" step="0.1" min="35" max="42" placeholder="36.5" 
                                       class="w-32 p-3 glass-morphism border-2 border-transparent rounded-xl focus:border-medical-blue focus:shadow-glow transition-all duration-300 bg-white/80 hover:bg-white/90">
                                <span class="text-gray-600">¬∞C</span>
                                <button type="button" id="submitManualTemp" class="bg-gradient-to-r from-purple-500 to-indigo-600 text-white px-4 py-2 rounded-lg font-medium hover:shadow-glow transition-all duration-300">
                                    Add Temperature
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Submit Button -->
                <div class="text-center pt-8">
                    <button type="submit" class="group relative overflow-hidden bg-gradient-to-r from-medical-blue via-purple-600 to-medical-blue text-white px-12 py-4 rounded-2xl text-lg font-bold shadow-glow hover:shadow-glow-lg transition-all duration-500 transform hover:scale-105 hover:-translate-y-1">
                        <div class="absolute inset-0 bg-gradient-to-r from-blue-600 via-purple-700 to-blue-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                        <div class="relative flex items-center justify-center space-x-3">
                            <span class="animate-pulse-slow">üîç</span>
                            <span>Analyze My Risk</span>
                            <div class="w-6 h-6 bg-white/20 rounded-full flex items-center justify-center group-hover:rotate-180 transition-transform duration-500">
                                <span class="text-xs">‚Üí</span>
                            </div>
                        </div>
                        <div class="absolute inset-0 shimmer-effect opacity-0 group-hover:opacity-100"></div>
                    </button>
                    <p class="text-sm text-gray-500 mt-3 animate-slide-in" style="animation-delay: 0.6s;">
                        ‚ö° Analysis completes in under 60 seconds
                    </p>
                </div>
            </form>
        </div>

        <!-- Enhanced Results Section (Initially Hidden) -->
        <div id="resultsSection" class="relative glass-morphism rounded-2xl shadow-glass p-8 mt-8 hidden animate-slide-up overflow-hidden">
            <div class="absolute inset-0 bg-gradient-to-br from-white/70 to-blue-50/50 rounded-2xl"></div>
            <div class="relative z-10">
                <div class="flex items-center mb-6">
                    <div class="w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center mr-4 animate-bounce-slow">
                        <span class="text-white text-xl">üìä</span>
                    </div>
                    <h3 class="text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent">
                        Assessment Results
                    </h3>
                </div>
                <div id="riskResults" class="space-y-6">
                    <!-- Results will be populated by JavaScript with enhanced graphics -->
                </div>
            </div>
            
            <!-- Result Decorative Elements -->
            <div class="absolute top-6 right-6 w-20 h-20 bg-gradient-to-br from-green-200/30 to-emerald-200/30 rounded-full blur-2xl"></div>
            <div class="absolute bottom-6 left-6 w-16 h-16 bg-gradient-to-br from-blue-200/30 to-purple-200/30 rounded-full blur-2xl"></div>
        </div>
    </main>

    <!-- Enhanced Footer with Advanced Graphics -->
    <footer class="relative medical-gradient text-white mt-12 overflow-hidden">
        <div class="floating-particles">
            <div class="particle" style="left: 15%; top: 40%; width: 6px; height: 6px; animation-delay: 0s;"></div>
            <div class="particle" style="left: 75%; top: 20%; width: 8px; height: 8px; animation-delay: 3s;"></div>
            <div class="particle" style="left: 45%; top: 60%; width: 10px; height: 10px; animation-delay: 1.5s;"></div>
        </div>
        <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="grid md:grid-cols-3 gap-6 text-center">
                <div class="animate-slide-up" style="animation-delay: 0.1s;">
                    <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center mx-auto mb-3">
                        <span class="text-2xl">üîí</span>
                    </div>
                    <h4 class="font-semibold mb-2">100% Secure</h4>
                    <p class="text-blue-200 text-sm">End-to-end encryption</p>
                </div>
                <div class="animate-slide-up" style="animation-delay: 0.2s;">
                    <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center mx-auto mb-3">
                        <span class="text-2xl">‚ö°</span>
                    </div>
                    <h4 class="font-semibold mb-2">Lightning Fast</h4>
                    <p class="text-blue-200 text-sm">Instant analysis</p>
                </div>
                <div class="animate-slide-up" style="animation-delay: 0.3s;">
                    <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center mx-auto mb-3">
                        <span class="text-2xl">üè•</span>
                    </div>
                    <h4 class="font-semibold mb-2">Medical Grade</h4>
                    <p class="text-blue-200 text-sm">Clinical accuracy</p>
                </div>
            </div>
            
            <div class="border-t border-white/20 mt-8 pt-6 text-center">
                <div class="glass-morphism rounded-xl p-4 inline-block mb-4">
                    <p class="font-medium">¬© 2025 HIV Risk Assessment Tool</p>
                    <p class="text-blue-200 text-sm mt-1">Confidential ‚Ä¢ Secure ‚Ä¢ Professional</p>
                </div>
                <p class="text-xs text-blue-300 max-w-2xl mx-auto">
                    ‚ö†Ô∏è This advanced assessment tool is for educational purposes. Always consult qualified healthcare professionals for medical advice and testing.
                </p>
            </div>
        </div>
        <div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-400 via-white to-purple-400"></div>
    </footer>

    <script>
        // Initialize thermal analysis
        let thermalAnalysis = null;
        let thermalData = null;

        // Thermal camera integration
        document.getElementById('startThermalBtn').addEventListener('click', async function() {
            try {
                if (!thermalAnalysis) {
                    thermalAnalysis = new ThermalAnalysis();
                }
                
                await thermalAnalysis.initializeThermalCamera();
                const video = thermalAnalysis.setupAnalysisCanvas('thermalContainer');
                
                // Show thermal interface
                document.getElementById('thermalContainer').classList.remove('hidden');
                document.getElementById('temperatureReadings').classList.remove('hidden');
                document.getElementById('startThermalBtn').classList.add('hidden');
                document.getElementById('stopThermalBtn').classList.remove('hidden');
                document.getElementById('calibrateBtn').classList.remove('hidden');
                
                // Start analysis
                video.addEventListener('loadedmetadata', () => {
                    thermalAnalysis.startAnalysis(video);
                });
                
                this.textContent = '‚úÖ Thermal Scanning Active';
                this.disabled = true;
                
            } catch (error) {
                alert('Thermal camera not available: ' + error.message + '\n\nPlease use manual temperature entry or ensure thermal camera is connected.');
                console.error('Thermal camera error:', error);
            }
        });

        document.getElementById('stopThermalBtn').addEventListener('click', function() {
            if (thermalAnalysis) {
                thermalAnalysis.stopAnalysis();
                document.getElementById('thermalContainer').classList.add('hidden');
                document.getElementById('startThermalBtn').classList.remove('hidden');
                document.getElementById('stopThermalBtn').classList.add('hidden');
                document.getElementById('calibrateBtn').classList.add('hidden');
                document.getElementById('startThermalBtn').disabled = false;
                document.getElementById('startThermalBtn').textContent = 'üé• Start Thermal Scan';
            }
        });

        document.getElementById('calibrateBtn').addEventListener('click', function() {
            const referenceTemp = prompt('Enter reference temperature for calibration (¬∞C):', '36.5');
            if (referenceTemp && thermalAnalysis) {
                thermalAnalysis.calibrateTemperature(parseFloat(referenceTemp));
                alert('Thermal camera calibrated successfully!');
            }
        });

        document.getElementById('submitManualTemp').addEventListener('click', function() {
            const tempInput = document.querySelector('input[name="manualTemp"]');
            const temperature = parseFloat(tempInput.value);
            
            if (temperature && temperature >= 35 && temperature <= 42) {
                thermalData = {
                    hasFever: temperature > 37.5,
                    temperature: temperature,
                    riskLevel: temperature > 38.5 ? 'high' : temperature > 37.5 ? 'moderate' : 'low',
                    recommendation: temperature > 37.5 
                        ? 'Elevated temperature detected. Consider medical consultation.' 
                        : 'Normal temperature range.'
                };
                
                updateThermalDisplay(thermalData);
                tempInput.value = '';
            } else {
                alert('Please enter a valid temperature between 35¬∞C and 42¬∞C');
            }
        });

        // Listen for thermal analysis updates
        document.addEventListener('thermalUpdate', function(event) {
            const data = event.detail;
            updateThermalDisplay(data);
            thermalData = data;
        });

        function updateThermalDisplay(data) {
            if (!data) return;
            
            // Update temperature readings
            document.getElementById('currentTemp').textContent = 
                data.temperature ? data.temperature.toFixed(1) + '¬∞C' : '--¬∞C';
            document.getElementById('maxTemp').textContent = 
                data.maxTemperature ? data.maxTemperature.toFixed(1) + '¬∞C' : '--¬∞C';
            
            // Update fever status
            const feverStatusEl = document.getElementById('feverStatus');
            if (data.hasFever) {
                feverStatusEl.textContent = data.feverSeverity === 'high' ? 'High Fever' : 'Fever';
                feverStatusEl.className = 'text-2xl font-bold text-red-600';
            } else {
                feverStatusEl.textContent = 'Normal';
                feverStatusEl.className = 'text-2xl font-bold text-green-600';
            }
            
            // Show thermal results
            const thermalResults = document.getElementById('thermalResults');
            const thermalRecommendation = document.getElementById('thermalRecommendation');
            
            if (data.recommendation) {
                thermalRecommendation.textContent = data.recommendation;
                thermalResults.classList.remove('hidden');
            }
        }

        // Simple form handling
        document.getElementById('assessmentForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form data
            const formData = new FormData(this);
            const age = formData.get('age');
            const exposure = formData.get('exposure');
            const timeframe = formData.get('timeframe');
            const symptoms = formData.getAll('symptoms');
            const manualTemp = formData.get('manualTemp');
            
            // Simple risk calculation
            let riskScore = 0;
            let riskLevel = 'low';
            let urgency = 'routine';
            
            // Integrate thermal analysis data
            let thermalAssessment = null;
            if (thermalAnalysis) {
                thermalAssessment = thermalAnalysis.getThermalAssessment();
            } else if (thermalData) {
                thermalAssessment = thermalData;
            }
            
            // Basic scoring logic
            if (exposure === 'unprotected_sex') riskScore += 30;
            if (exposure === 'needle_sharing') riskScore += 50;
            if (exposure === 'blood_contact') riskScore += 40;
            
            if (timeframe === '0-72h') {
                riskScore += 20;
                urgency = 'urgent';
            } else if (timeframe === '3-30d') {
                riskScore += 15;
                urgency = 'soon';
            }
            
            if (symptoms.length > 2) riskScore += 25;
            
            // Add thermal analysis to risk calculation
            if (thermalAssessment && thermalAssessment.hasFever) {
                if (thermalAssessment.riskLevel === 'high') {
                    riskScore += 30;
                    urgency = 'urgent';
                } else if (thermalAssessment.riskLevel === 'moderate') {
                    riskScore += 20;
                    if (urgency === 'routine') urgency = 'soon';
                }
            }
            
            // Determine risk level
            if (riskScore >= 70) riskLevel = 'high';
            else if (riskScore >= 40) riskLevel = 'moderate';
            
            // Display results
            displayResults(riskLevel, urgency, riskScore, thermalAssessment);
        });
        
        function displayResults(riskLevel, urgency, score, thermalAssessment) {
            const resultsSection = document.getElementById('resultsSection');
            const riskResults = document.getElementById('riskResults');
            
            let riskColor, riskMessage, recommendations;
            
            if (riskLevel === 'high') {
                riskColor = 'text-red-700 bg-gradient-to-br from-red-50 to-red-100';
                riskMessage = 'üö® High Risk - Immediate Action Required';
                recommendations = [
                    'üè• Seek immediate medical attention',
                    'üíä Consider PEP (Post-Exposure Prophylaxis) if within 72 hours',
                    'üî¨ Get tested immediately and schedule follow-up testing',
                    'üõ°Ô∏è Take precautions to avoid potential transmission'
                ];
            } else if (riskLevel === 'moderate') {
                riskColor = 'text-yellow-700 bg-gradient-to-br from-yellow-50 to-orange-100';
                riskMessage = '‚ö†Ô∏è Moderate Risk - Testing Recommended';
                recommendations = [
                    'Schedule HIV testing within 1-2 weeks',
                    'Consider consulting a healthcare provider',
                    'Follow up with additional testing in 3 months',
                    'Practice safe behaviors to prevent further exposure'
                ];
            } else {
                riskColor = 'text-green-700 bg-gradient-to-br from-green-50 to-emerald-100';
                riskMessage = '‚úÖ Lower Risk - Routine Testing Advised';
                recommendations = [
                    'üìÖ Regular HIV testing is still important',
                    'üîÑ Consider testing in 3-6 months for peace of mind',
                    'üõ°Ô∏è Maintain safe practices',
                    'üìö Stay informed about prevention methods'
                ];
            }
            
            riskResults.innerHTML = `
                <div class="relative ${riskColor} p-8 rounded-2xl glass-morphism overflow-hidden animate-slide-up">
                    <div class="absolute top-4 right-4 w-16 h-16 bg-gradient-to-br from-white/20 to-blue-200/20 rounded-full blur-xl"></div>
                    <div class="relative z-10">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center mr-4 animate-pulse-slow">
                                <span class="text-white text-xl">üìä</span>
                            </div>
                            <h4 class="text-2xl font-bold">${riskMessage}</h4>
                        </div>
                        
                        <div class="mb-6">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-semibold">Risk Score</span>
                                <span class="font-bold text-lg">${score}/100</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-3 overflow-hidden">
                                <div class="h-full bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 rounded-full transition-all duration-1000 animate-pulse" 
                                     style="width: ${score}%"></div>
                            </div>
                        </div>
                        
                        <div class="glass-morphism p-6 rounded-xl mb-6">
                            <h5 class="font-bold text-lg mb-4 flex items-center">
                                <span class="w-6 h-6 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg flex items-center justify-center mr-2">
                                    <span class="text-white text-xs">‚úì</span>
                                </span>
                                Personalized Recommendations
                            </h5>
                            <div class="grid gap-3">
                                ${recommendations.map((rec, index) => `
                                    <div class="flex items-start p-3 bg-white/50 rounded-lg hover:bg-white/70 transition-all duration-300 animate-slide-in" style="animation-delay: ${index * 0.1}s;">
                                        <div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center mr-3 flex-shrink-0">
                                            <span class="text-white text-xs font-bold">${index + 1}</span>
                                        </div>
                                        <span class="font-medium">${rec}</span>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        
                        ${thermalAssessment ? `
                            <div class="glass-morphism p-4 rounded-xl mb-6">
                                <h5 class="font-semibold flex items-center mb-3">
                                    <span class="w-6 h-6 bg-gradient-to-br from-red-500 to-pink-600 rounded-lg flex items-center justify-center mr-2">
                                        <span class="text-white text-xs">üå°Ô∏è</span>
                                    </span>
                                    Thermal Analysis Results
                                </h5>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div class="bg-white/50 p-3 rounded-lg">
                                        <div class="text-lg font-bold ${thermalAssessment.hasFever ? 'text-red-600' : 'text-green-600'}">
                                            ${thermalAssessment.temperature ? thermalAssessment.temperature.toFixed(1) + '¬∞C' : 'No reading'}
                                        </div>
                                        <div class="text-sm text-gray-600">Temperature</div>
                                    </div>
                                    <div class="bg-white/50 p-3 rounded-lg">
                                        <div class="text-lg font-bold ${thermalAssessment.hasFever ? 'text-red-600' : 'text-green-600'}">
                                            ${thermalAssessment.hasFever ? 'Fever Detected' : 'Normal'}
                                        </div>
                                        <div class="text-sm text-gray-600">Status</div>
                                    </div>
                                </div>
                                <p class="text-sm text-gray-700 mt-3">
                                    ${thermalAssessment.recommendation}
                                </p>
                            </div>
                        ` : ''}
                        
                        <div class="glass-morphism p-4 rounded-xl mb-6">
                            <h5 class="font-semibold flex items-center mb-2">
                                <span class="w-6 h-6 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center mr-2">
                                    <span class="text-white text-xs">‚ö†Ô∏è</span>
                                </span>
                                Important Medical Disclaimer
                            </h5>
                            <p class="text-sm text-gray-700">
                                This advanced assessment with thermal analysis provides evidence-based guidance only. For personalized medical advice, 
                                professional testing, and treatment options, consult with qualified healthcare professionals.
                            </p>
                        </div>
                        
                        <div class="text-center">
                            <button onclick="resetForm()" class="bg-gradient-to-r from-medical-blue to-purple-600 text-white px-8 py-3 rounded-xl font-semibold hover:shadow-glow transition-all duration-300 transform hover:scale-105 hover:-translate-y-1">
                                Take New Assessment
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            resultsSection.classList.remove('hidden');
            resultsSection.scrollIntoView({ behavior: 'smooth' });
        }
        
        function resetForm() {
            document.getElementById('assessmentForm').reset();
            document.getElementById('resultsSection').classList.add('hidden');
            document.getElementById('assessmentForm').scrollIntoView({ behavior: 'smooth' });
        }
        
        // Interactive mouse tracking effect
        document.addEventListener('mousemove', (e) => {
            const x = (e.clientX / window.innerWidth) * 100;
            const y = (e.clientY / window.innerHeight) * 100;
            document.documentElement.style.setProperty('--mouse-x', x + '%');
            document.documentElement.style.setProperty('--mouse-y', y + '%');
        });
        
        // Enhanced form interactions
        document.querySelectorAll('input, select').forEach(element => {
            element.addEventListener('focus', function() {
                this.closest('.group')?.classList.add('scale-105');
            });
